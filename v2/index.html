<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Lars Andersson</title>
        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="/static/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon/favicon-16x16.png">
        <link rel="manifest" href="/static/favicon/site.webmanifest">
        <!-- Custom -->
        <link rel="stylesheet" href="/v2/style_main.css">
        <!-- GOOGLE ANALYTICS -->
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-46921147-5"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-46921147-5');
        </script>
    </head>

    <body>
        <img src="/v2/images/vcr_font_v3.png" id="webgl-font"/>

        <!-- Hi ! -->
        <div id="splash" class="hidden">
            <div id="splash-square" class="hidden">Hi !</div>
        </div>

        <!-- Content -->
        <div id="website">

            <!-- HEADER -->
            <div id="header" style="overflow: hidden;">

                <div id="header-video-container" style="position: absolute; height: 90vh; width: 100%; overflow: hidden; z-index: 0; align-items: center; justify-content: center; text-align: center; display: flex;">
                    <figure id="tv-image" style="background-image: url('/static/content/sausage.jpg')" class="card-figure"></figure>
                    <video id="tv-video" autoplay muted loop playsinline class="card-video" style="position: absolute; z-index: 0; width: 100%">
                        <source id="tv-source" type="video/mp4">
                    </video>
                </div>

                <canvas id="webgl-canvas" style="position: relative; z-index: 1;"></canvas>

                <div id="menu" style="z-index: 2;">
                    <!--  MENU 1  -->
                    <div id="menu-1">
                        <div class="menu-heading">
                            <span class="hidden-on-mobile">----- </span><span class="hidden-on-desktop">> </span>
                                LARS ANDERSSON
                            <span class="hidden-on-desktop"> <</span><span class="hidden-on-mobile"> -----</span>
                        </div>
                        <div class="menu-upper menu-items">
                            <a href="https://linkedin.com/in/lars-andersson-1589a180/" title="LinkedIn">LINKEDIN.........................</a>
                            <a href="https://github.com/babaganosch" title="GitHub">GITHUB...........................</a>
                            <a href="https://X.com/Babaganosch" title="X">TWITTER..........................</a>
                            <a href="/resume.html" title="CV">RESUMÃ‰...........................</a>
                        </div>
                        <div class="menu-lower menu-items">
                            <a class="hidden-on-mobile" onclick="hide_menu(1); show_menu(2);">PORTFOLIO</a>
                            <a class="hidden-on-desktop" href=".">PORTFOLIO</a>
                        </div>
                    </div>

                    <!--  MENU 2  -->
                    <div id="menu-2" class="hidden">
                        <div class="menu-heading"> > PORTFOLIO < </div>
                        <div id="menu-2-items" class="menu-upper menu-items"></div>
                        <div class="menu-lower menu-items">
                            <a onclick="hide_menu(2); show_menu(1);"> < BACK</a>
                        </div>
                    </div>

                </div>
            </div>

            <!-- BUFFER? -->
            <div id="header-porftolio-buffer"></div>

            <!-- PORTFOLIO -->
            <div id="portfolio">

            </div><!-- end of Portfolio -->
        </div>

        <!-- JQuery -->
        <script type="text/javascript" src="/node_modules/jquery/dist/jquery.min.js"></script>
        <!-- Cookies -->
        <script type="text/javascript" src="/node_modules/js-cookie/src/js.cookie.js"></script>
        <!-- WebGL -->
        <script src="/v2/igloo.js"></script>
        <script src="/v2/tv_screen.js"></script>
        <script src="/v2/portfolio_content.js"></script>
        <!-- Misc -->
        <script>

        var tv_video = document.getElementById('tv-video');
        var tv_image = document.getElementById('tv-image');
        var tv_source = document.getElementById('tv-source');

        function set_video( src, on_off )
        {
            NOISE_ON = on_off;
            tv_image.style.backgroundImage = "url('" + src + "')";
            tv_source.setAttribute('src', src);
            tv_video.load();
        }

        function show_menu( id )
        {
            $('#menu-' + String(id)).removeClass('hidden');
        }

        function hide_menu( id )
        {
            $('#menu-' + String(id)).addClass('hidden');
        }

        var portfolio_menu = $('#menu-2-items');
        var portfolio = $('#portfolio');
        for ( const item of portfolio_items )
        {
            switch (item.type)
            {
                case portfolio_item_types.VIDEO:
                {
                    if (window.innerWidth > 768)
                    {
                        portfolio.append(video_card_template_desktop( item ));
                    }
                    else
                    {
                        portfolio.append(video_card_template_mobile( item ));
                    }
                } break;
                case portfolio_item_types.IMAGE:
                {
                    portfolio.append(image_card_template( item ));
                } break;
            }
            portfolio_menu.append( String.raw`<a onmouseenter="set_video('${item.src}', false);" onmouseleave="set_video('', true)">${item.menu}.....................</a>` );
        }

        // TODO:
        // In JS, loop through each portfolio item and add the contents/video from JSON data
        </script>

    </body>

</html>